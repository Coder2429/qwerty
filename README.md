# –ü–ª–∞—Ç–Ω—ã–π –ø–æ—Å—Ç –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ VK

VK Mini App –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–ª–∞—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö –í–ö–æ–Ω—Ç–∞–∫—Ç–µ.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å —Ç–µ–∫—Å—Ç–æ–º –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –≤ –ª—é–±–æ–π –≥—Ä—É–ø–ø–µ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK Pay –¥–ª—è –æ–ø–ª–∞—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –û–†–î –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ ERID** (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –†–§)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ ERID —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –Ω–∞ –ø–æ—Å—Ç
- –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
paypost-miniapp/
‚îú‚îÄ‚îÄ frontend/          # VK Mini App (React + Vite)
‚îú‚îÄ‚îÄ backend/           # Backend API (Node.js + Express)
‚îî‚îÄ‚îÄ README.md
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Node.js 20.x LTS**:
- –°–∫–∞—á–∞–π—Ç–µ —Å https://nodejs.org/ (–≤—ã–±–µ—Ä–∏—Ç–µ LTS –≤–µ—Ä—Å–∏—é)
- –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `node --version` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x)

–ï—Å–ª–∏ Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–º. [INSTALL_NODEJS.md](./INSTALL_NODEJS.md)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ VK

#### –®–∞–≥ 1.1: –í—Ö–æ–¥ –≤ VK –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **https://dev.vk.com**
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–í–æ–π—Ç–∏"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –æ—Ç –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
4. –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ –∫–æ–¥ –∏–∑ SMS –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –®–∞–≥ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É VK –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
2. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **"–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** (–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à –∞–≤–∞—Ç–∞—Ä)
3. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"**
4. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"** (–æ–±—ã—á–Ω–æ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É –∏–ª–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
5. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –®–∞–≥ 1.3: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í –ø–æ–ª–µ **"–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** –≤–≤–µ–¥–∏—Ç–µ: `–ü–ª–∞—Ç–Ω—ã–π –ø–æ—Å—Ç –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
2. –í —Ä–∞–∑–¥–µ–ª–µ **"–¢–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** –≤—ã–±–µ—Ä–∏—Ç–µ: **"–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"** (Mini App)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ü–æ–¥–∫–ª—é—á–∏—Ç—å"** –∏–ª–∏ **"–°–æ–∑–¥–∞—Ç—å"**
4. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫

#### –®–∞–≥ 1.4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –≤—ã —É–≤–∏–¥–∏—Ç–µ **"ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `12345678`)
2. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç ID** ‚Äî –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ)

#### –®–∞–≥ 1.5: –í–∫–ª—é—á–µ–Ω–∏–µ VK Pay

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–ª–∞—Ç–µ–∂–∏"** –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
2. –ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–∞ "–ü–ª–∞—Ç–µ–∂–∏" –Ω–µ—Ç –≤ –º–µ–Ω—é, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞, –∑–∞—Ç–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ "–ü–ª–∞—Ç–µ–∂–∏"
3. –í —Ä–∞–∑–¥–µ–ª–µ "–ü–ª–∞—Ç–µ–∂–∏" –Ω–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"VK Pay"** –∏ –≤–∫–ª—é—á–∏—Ç–µ –µ–≥–æ (–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ "–í–∫–ª—é—á–µ–Ω–æ")
4. –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü–∞), –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"** –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### –®–∞–≥ 1.6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –Ω–∞–∂–º–∏—Ç–µ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"–ë–∞–∑–æ–≤—ã–π –¥–æ–º–µ–Ω"**
3. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π URL
4. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —É–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `paypost-miniapp.vercel.app`)
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

---

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ VK API

#### –®–∞–≥ 2.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–ª–∏ –±–ª–æ–∫–Ω–æ—Ç
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Å—ã–ª–∫—É (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã** scope, –∞ –Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è):
   ```
   https://oauth.vk.com/authorize?client_id=YOUR_APP_ID&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=4,8,268435456&response_type=token&v=5.131
   ```
   
   **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ scope (–ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞):**
   - `4` = photos (–¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º)
   - `8` = wall (–¥–æ—Å—Ç—É–ø –∫ —Å—Ç–µ–Ω–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤)
   - `268435456` = offline (–¥–æ—Å—Ç—É–ø –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞)
   
3. –ó–∞–º–µ–Ω–∏—Ç–µ –≤ —Å—Å—ã–ª–∫–µ `YOUR_APP_ID` –Ω–∞ **ID –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ —à–∞–≥–µ 1.4
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ ID = `54439677`, —Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç:
   ```
   https://oauth.vk.com/authorize?client_id=54439677&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=4,8,268435456&response_type=token&v=5.131
   ```
   
   **‚ö†Ô∏è –í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–Ω–æ —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã (`4,8,268435456`), –∞ –Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (`photos,wall,offline`) - –∏–Ω–∞—á–µ –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É "invalid scope"!

#### –®–∞–≥ 2.2: –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≥–æ—Ç–æ–≤—É—é —Å—Å—ã–ª–∫—É (—Å –≤–∞—à–∏–º ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
2. –í—Å—Ç–∞–≤—å—Ç–µ –µ—ë –≤ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ **Enter**
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
4. –ï—Å–ª–∏ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
5. –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º
6. –í —Å–ø–∏—Å–∫–µ –ø—Ä–∞–≤ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ—Å—Ç—É–ø:
   - –î–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º (scope: 4)
   - –î–æ—Å—Ç—É–ø –∫ —Å—Ç–µ–Ω–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ (scope: 8)
   - –î–æ—Å—Ç—É–ø –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ (scope: 268435456)
   
   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "invalid scope", —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Å—Å—ã–ª–∫–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–∏—Å–ª–æ–≤—ã–µ –∫–æ–¥—ã (`4,8,268435456`), –∞ –Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è.
   
7. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–†–∞–∑—Ä–µ—à–∏—Ç—å"** –∏–ª–∏ **"–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø"**

#### –®–∞–≥ 2.3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ URL

1. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–†–∞–∑—Ä–µ—à–∏—Ç—å" –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `https://oauth.vk.com/blank.html`
2. **‚ö†Ô∏è –í–ê–ñ–ù–û:** VK –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: *"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∞–π—Ç–æ–≤"*
   
   **–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ VK –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:**
   - –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –¥–æ–º–µ–Ω–µ VK (`oauth.vk.com`)
   - –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è **—Å–≤–æ–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   
   **–í—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞.

3. **–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞** ‚Äî —Ç–∞–º –±—É–¥–µ—Ç –¥–ª–∏–Ω–Ω—ã–π URL
4. URL –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
   ```
   https://oauth.vk.com/blank.html#access_token=vk1.a.ABC123XYZ789...&expires_in=0&user_id=123456789
   ```
5. –ù–∞–π–¥–∏—Ç–µ –≤ URL —á–∞—Å—Ç—å –ø–æ—Å–ª–µ `access_token=` –∏ –¥–æ —Å–∏–º–≤–æ–ª–∞ `&`
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–æ–∫–µ–Ω** (—ç—Ç–æ –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –Ω–∞—á–∏–Ω–∞—é—â–∞—è—Å—è —Å `vk1.a.` –∏–ª–∏ –ø–æ—Ö–æ–∂–∞—è)
   - –ü—Ä–∏–º–µ—Ä —Ç–æ–∫–µ–Ω–∞: `vk1.a.ABC123XYZ789DEF456GHI012JKL345MNO678PQR901STU234VWX567YZA890BCD123EFG456HIJ789`
7. **‚ö†Ô∏è –í–ê–ñ–ù–û:** 
   - –¢–æ–∫–µ–Ω –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é!
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤–µ—Å—å —Ç–æ–∫–µ–Ω –æ—Ç `access_token=` –¥–æ `&`
   - –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –æ–±—Ä–µ–∑–∞–Ω, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 2.1-2.3

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –º–µ—à–∞–µ—Ç):

–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:

1. –ü–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ `oauth.vk.com/blank.html` –Ω–∞–∂–º–∏—Ç–µ **F12** (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Console"** (–ö–æ–Ω—Å–æ–ª—å)
3. –í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –∏ –Ω–∞–∂–º–∏—Ç–µ Enter:
   ```javascript
   window.location.hash.match(/access_token=([^&]+)/)?.[1]
   ```
4. –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ ‚Äî —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –æ—Ç—Ç—É–¥–∞

#### –®–∞–≥ 2.4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `backend/.env` (—Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `VK_ACCESS_TOKEN=your_vk_access_token_here`
3. –ó–∞–º–µ–Ω–∏—Ç–µ `your_vk_access_token_here` –Ω–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:
   ```
   VK_ACCESS_TOKEN=vk1.a.ABC123XYZ789...–≤–∞—à_–ø–æ–ª–Ω—ã–π_—Ç–æ–∫–µ–Ω...
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (Ctrl+S)
5. **‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ (Git, –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.)

#### –®–∞–≥ 2.5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–ª–∏–Ω–Ω—ã–º (–æ–±—ã—á–Ω–æ 100+ —Å–∏–º–≤–æ–ª–æ–≤)
2. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –∫–æ—Ä–æ—Ç–∫–∏–π –∏–ª–∏ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 2.1-2.3
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ —Ç–æ–∫–µ–Ω —É–∫–∞–∑–∞–Ω –±–µ–∑ –∫–∞–≤—ã—á–µ–∫ –∏ –ø—Ä–æ–±–µ–ª–æ–≤

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è backend, –∑–∞—Ç–µ–º –¥–ª—è frontend.

#### Backend:

```bash
cd backend
npm install
```

**–î–ª—è Windows:** –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å PowerShell, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CMD (–ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É) –∏–ª–∏ —Å–º. [INSTALL.md](./INSTALL.md)

#### Frontend:

```bash
cd frontend
npm install
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
VITE_API_URL=http://localhost:5000
```

–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

–°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
npm run build
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

```bash
cd backend
npm install
```

**‚ö†Ô∏è –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ `better-sqlite3`:**

- **–û—à–∏–±–∫–∞ "gyp ERR! find VS"** - –Ω—É–∂–Ω—ã Visual Studio Build Tools (—Å–º. [WINDOWS_SETUP.md](./WINDOWS_SETUP.md))
- **–û—à–∏–±–∫–∞ "C++20 or later required"** - Node.js 24.x —Ç—Ä–µ–±—É–µ—Ç C++20. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Node.js 20.x LTS** (—Å–º. [NODE_VERSION_FIX.md](./NODE_VERSION_FIX.md))
- –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: —Å–∫–∞—á–∞–π—Ç–µ Node.js 20.x LTS —Å https://nodejs.org/ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
PORT=5000
VK_ACCESS_TOKEN=your_vk_access_token_here
FRONTEND_URL=http://localhost:3000
PAYMENT_TYPE=vk_pay
```

–ó–∞–ø—É—Å–∫:
```bash
npm start
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π:
npm run dev
```

### 5. –î–µ–ø–ª–æ–π Frontend

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI: `npm i -g vercel`
2. –í –ø–∞–ø–∫–µ `frontend` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `vercel`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://your-app.vercel.app`

#### –í–∞—Ä–∏–∞–Ω—Ç 2: GitHub Pages

1. –í `vite.config.js` –¥–æ–±–∞–≤—å—Ç–µ `base: '/your-repo-name/'`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `gh-pages`: `npm install -D gh-pages`
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `package.json`:
   ```json
   "scripts": {
     "deploy": "npm run build && gh-pages -d dist"
   }
   ```
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `npm run deploy`

### 6. –î–µ–ø–ª–æ–π Backend –Ω–∞ VPS

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ VPS:
- Ubuntu 22.04 / Debian 12
- –ú–∏–Ω–∏–º—É–º 1-2 –ì–ë RAM
- Node.js 20+

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º
sudo npm install -g pm2

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤)
cd /var/www
git clone your-repo-url paypost-backend
cd paypost-backend/backend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
nano .env
# –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
pm2 start src/index.js --name paypost-backend
pm2 save
pm2 startup
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è HTTPS):

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt):

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –≤ –≥—Ä—É–ø–ø–∞—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥—Ä—É–ø–ø—É –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–Ω–æ–ø–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞**
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ: **–û—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
4. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ ID –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤–∞—à–µ Mini App, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—Å—Ç `vk_group_id`.

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Backend

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------------|----------|-------------|
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | –ù–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5000) |
| `VK_ACCESS_TOKEN` | –¢–æ–∫–µ–Ω VK API —Å –ø—Ä–∞–≤–∞–º–∏ photos,wall,groups,offline | –î–∞ |
| `FRONTEND_URL` | URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–¥–ª—è CORS) | –î–∞ |
| `PAYMENT_TYPE` | –¢–∏–ø –æ–ø–ª–∞—Ç—ã: vk_pay, yookassa, tinkoff | –ù–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é vk_pay) |
| `ORD_TYPE` | –¢–∏–ø –û–†–î: vk (VK –û–†–î) | –ù–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é vk) |
| `VK_ORD_TOKEN` | –¢–æ–∫–µ–Ω –¥–ª—è VK –û–†–î (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ) | –ù–µ—Ç |

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Frontend

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------------|----------|-------------|
| `VITE_API_URL` | URL backend API | –î–∞ |

## üìù API Endpoints

### `POST /api/create-order`
–°–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ –Ω–∞ –æ–ø–ª–∞—Ç—É.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (FormData):**
- `text` (string) - –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
- `group_id` (number) - ID –≥—Ä—É–ø–ø—ã
- `user_id` (number, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `price` (number) - –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ä—É–±–ª—è—Ö
- `photos` (File[]) - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (–¥–æ 10 —à—Ç.)

**–û—Ç–≤–µ—Ç:**
```json
{
  "order_id": "order_1234567890_1",
  "payment_type": "vk_pay",
  "order": {
    "item": "–†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ 12345",
    "description": "...",
    "amount": 10000
  }
}
```

### `POST /api/confirm-payment`
–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—É –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "order_id": "order_1234567890_1",
  "payment_id": "payment_123"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "post_id": 12345,
  "message": "–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω"
}
```

### `GET /api/order/:orderId`
–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `VK_ACCESS_TOKEN` –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥!**
- –•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ CORS —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ÆKassa, Tinkoff –∏–ª–∏ CloudPayments:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π SDK
2. –û–±–Ω–æ–≤–∏—Ç–µ `backend/src/payment.js`
3. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É webhook –≤ `backend/src/index.js`
4. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìã –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –û–†–î (–û–ø–µ—Ä–∞—Ç–æ—Ä —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –û–†–î –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–§ –æ —Ä–µ–∫–ª–∞–º–µ.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –ø–æ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ–∫–ª–∞–º—É –≤ –û–†–î –∏ –ø–æ–ª—É—á–∞–µ—Ç ERID
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ ERID**: ERID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   ```
   –†–µ–∫–ª–∞–º–∞
   ERID: XXXXXXXX
   
   [–í–∞—à —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞]
   ```
3. **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π ERID**: –ï—Å–ª–∏ —É —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è —É–∂–µ –µ—Å—Ç—å ERID, –æ–Ω –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –≤ —Ñ–æ—Ä–º–µ - —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

–í `backend/.env` –¥–æ–±–∞–≤—å—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```env
ORD_TYPE=vk  # –¢–∏–ø –û–†–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é vk)
VK_ORD_TOKEN=your_token  # –ï—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç VK_ACCESS_TOKEN
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [ORD_INTEGRATION.md](./ORD_INTEGRATION.md)

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è VK Mini Apps](https://dev.vk.com/mini-apps)
- [VK Bridge API](https://dev.vk.com/mini-apps/development/bridge)
- [VK API](https://dev.vk.com/api)
- [VK Pay](https://dev.vk.com/payments)
- [–û–†–î –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](./ORD_INTEGRATION.md)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend: `pm2 logs paypost-backend`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞ VK API
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ VK Pay –≤–∫–ª—é—á—ë–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

